% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/getInference.R
\name{getLaplaceSamples}
\alias{getLaplaceSamples}
\title{Generate posterior samples using Laplacian approximation from MAP fit}
\usage{
getLaplaceSamples(
  map_fit,
  hessian = NULL,
  n_samples = 1000,
  noise_scale = 0.1,
  seed = NULL
)
}
\arguments{
\item{map_fit}{MAP optimization result from getModel (the $map element)}

\item{hessian}{Hessian matrix at MAP estimate (optional, currently not used)}

\item{n_samples}{Number of posterior samples to generate (default: 1000)}

\item{noise_scale}{Scale factor for parameter perturbation (default: 0.1)}

\item{seed}{Random seed for reproducibility}
}
\value{
List with parameter samples in the same structure as rstan::extract()
}
\description{
When only MAP estimation is available, this function generates approximate
posterior samples. Since Stan's Hessian is in unconstrained space with different
dimensions, we use a parametric bootstrap approach:
1. Extract MAP estimates for mu, beta, gamma
2. Add uncertainty based on estimated residual variance and parameter structure
}
\examples{
\donttest{
set.seed(123)
n <- 100
y <- rnorm(n)
taus <- c(0.25, 0.5, 0.75)
H <- getIsolatedShift(n, l = 20, w = 20)
fit <- getModel(y, taus, H = H, w = 20, fit_method = "map",
                map_hessian = FALSE, map_iter = 500)
samples <- getLaplaceSamples(fit$map, n_samples = 100)
}
}
