% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/getDesignMatrix.R
\name{getIsolatedShift}
\alias{getIsolatedShift}
\title{Isolated step-design matrix (finite-length shifts)}
\usage{
getIsolatedShift(n, l, w = 0)
}
\arguments{
\item{n}{Integer \(\ge 1\). Number of rows (time points or observations).}

\item{l}{Integer \(\ge 1\). Block length for each column. The last block
may be shorter if it would exceed \code{n}.}

\item{w}{Integer \(\ge 0\). Warm-up (initial zeros). No columns start before
row \code{w + 1}. Defaults to \code{0}.}
}
\value{
A numeric \code{n x ncol} matrix with 0/1 entries. Each column
  represents an isolated shift of length \code{l} (last column possibly shorter).
}
\description{
Builds a block-diagonal-like design matrix where each column is 1 for a
*finite* run of length \code{l} (except possibly the last, which may be shorter),
and 0 elsewhere. Useful for modeling *transient* or *windowed* effects
(e.g., short interventions, windowed basis functions).
}
\details{
The number of columns matches \code{getSustainedShift()}:
\deqn{n_{\mathrm{col}} = \left\lfloor\frac{n - w}{l}\right\rfloor + \mathbf{1}\{(n-w) \bmod l > 0\}.}
For column \code{i}, rows \code{start_i:end_i} are set to 1, where
\code{start_1 = w + 1}, \code{start_{i+1} = start_i + l}, and
\code{end_i = min(start_i + l - 1, n)}.
}
\examples{
# 20 points, blocks of length 5:
H <- getIsolatedShift(n = 20, l = 5)
dim(H)     # 20 x 4
colSums(H) # each column has about 5 ones

# With warm-up of 3 rows:
H2 <- getIsolatedShift(n = 20, l = 5, w = 3)

}
\seealso{
\code{\link{getSustainedShift}}
}
